# 算法数据结构总结

## 数组

### 数据结构

> 二维数组在某些语言内的存储可能是不连续的

1. 存储：连续内存，根据不同的语言可能实现稍有不同
   * 连续内存意味着，方便查询，难于删除和插入
2. 查询：根据索引可直接获取
3. 增删：需要挪动索引位置往后的所有元素

### 算法思路

> 介绍了二分查找，双指针（包括遍历双指针，滑动窗口，遍历填充），前缀和

#### 二分查找

1. 循环不变量： 在循环中，某些值是可以确定的，这些值不会随着循环改变
2. 二分查找的区间定义十分重要，通常为`左闭右开`或者`左闭右闭`
   * `左闭右开`：对于 `left == right` 的条件是**没意义**的，如果右区间缩短，可调整为 right = middle
   * `左闭右闭`：对于 `left == right` 的条件是**有意义**的，如果右区间缩短，可调整为 right = middle - 1
3. 二分查找可用于寻找边界，能迅速缩短区间范围

#### 双指针

1. `快慢指针`： 多用于删除元素，覆盖元素
2. `滑动窗口`： 单层 for 循环一定是滑动窗口的`终止指针`，而左边则是`动态（起始）指针`
   * 确定窗口内是什么
   * 如何移动起始指针
   * 如何移动终止指针
3. `遍历填充`：多用于画各种螺旋矩阵，不多说，按照四边分别遍历然后缩边即可。
   * 注意跳出的条件，在`非中心对称的矩阵`中可于`每次缩边`时判断返回条件

#### 前缀和

1. 多用于重复计算的场景，或者是多次`回溯依赖条件`的计算

## 链表

### 数据结构

> 分为单链表，双链表以及循环链表

1. 存储: 可不连续内存
2. 查询：需遍历索引之前的元素
3. 增删：直接删除或添加即可

### 算法思路

#### 虚拟头节点

针对`单独处理头节点`的特殊场景都可以使用虚拟头节点将头节点 **归一化**

#### 操作链表

可使用 head 以及 tail 增加效率（难度有所上升，但是效率较高）

* head 为 dummy 单链表节点
* tail 为 dummy 双链表节点，当然也可以将 next 视为 prev
* 添加 length 规避无效操作

#### 翻转链表

1. 思路一：递归回溯
   1. 递归到最后方的节点作为 head 返回
   2. 到下一层重置 next 为 current
   3. 最外层重置 next 为 null，否则是循环链表，没有 null
2. 思路二：三指针正序遍历
   1. 将 prev 指定为 null，当前操作链表节点指定为 current ，next 为 current.next
   2. 将 current.next 指向 prev，将 current 指向 next 开始下一轮遍历
   3. 在每次遍历结束时更新 prev 为 current，current 为 next
   4. 每次遍历开始时更新 next 为 current.next

#### 两两交换链表

单节点不用判断，故而需要得知下两个节点的情况

* 借助 dummy node，可实现头部的转换
  1. 将 current.next 指向 next.next（即下次交换的点）
  2. 将 next.next 指向 current
  3. 将 prev.next 指向 next
  4. 将 prev 指向 current 进入下次循环

#### 删除链表的倒数第 N 个节点

1. 思路一：快慢指针
   1. 将 fast 前移 N + 1 个节点处（+1 是为了方便删除）
   2. 移动 fast 和 slow，当 fast 到达 NULL 节点时 slow.next 即为删除的元素
2. 思路二：递归回溯
   1. 递归到最后方的节点，开始返回，并且减少 n 的值（数倒数第几个）
   2. 数到 n + 1 时可停下，current.next 即为待删除的节点

#### 链表相交

> 这道题很抽象，感觉很多条件都有边界，但是实际又没有

1. 遍历两个链表获得长度差值，利用快慢指针
2. 两个链表一起遍历，如果遇到一样的值可直接返回（题中提到不会有环型链表，故而不用在意后面是否还有相同的数）

#### 环形链表

> 重点在于公式的推导，利用快慢指针可解

1. 快指针步长为 2，慢指针步长为 1
2. 设 head 到环入口长度为 x
3. 快指针在慢指针走完一圈之前肯定能追上慢指针，慢指针从入口到被追上距离设置为 y
4. 环长度设置为 z
5. 快指针追上慢指针时刚好为一圈（步长 1 和 2 的优势），故而可得 x + y + z == 2 (x + y) ==> x =  z - y，即慢指针跑完一圈，刚好是慢指针从 head 到入口的距离